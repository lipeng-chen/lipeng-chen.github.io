<!-- _includes/publication.html -->
<div class="publication-entry">
  <h3 class="publication-title">
    {% if entry.url %}
      <a href="{{ base_path }}{{ entry.url }}" rel="permalink">{{ entry.title }}</a>
    {% else %}
      {{ entry.title }}
    {% endif %}
    
    <!-- 资源链接图标 - 标题后置 -->
    <span class="title-resources">
      {% if entry.pdf %}
        <a href="{{ entry.pdf | prepend: '/files/' | relative_url }}" 
           target="_blank" 
           class="resource-icon pdf-icon" >
          <i class="fas fa-file-pdf"></i>
        </a>
      {% endif %}
      
      {% if entry.video %}
        <a href="{{ entry.video }}" 
           target="_blank" 
           class="resource-icon video-icon" 
           title="View Video">
          <i class="fas fa-video"></i>
        </a>
      {% endif %}
      
      {% if entry.code %}
        <a href="{{ entry.code }}" 
           target="_blank" 
           class="resource-icon code-icon" 
           title="View Code">
          <i class="fab fa-github"></i>
        </a>
      {% endif %}
      
      {% if entry.data %}
        <a href="{{ entry.data }}" 
           target="_blank" 
           class="resource-icon data-icon" 
           title="View Data">
          <i class="fas fa-database"></i>
        </a>
      {% endif %}
      
      {% if entry.slides %}
        <a href="{{ entry.slides }}" 
           target="_blank" 
           class="resource-icon slides-icon" 
           title="View Slides">
          <i class="fas fa-presentation-screen"></i>
        </a>
      {% endif %}
    </span>
  </h3>
  
  <!-- 修复作者信息显示 -->
  <div class="publication-authors">
    {{ entry.authors | markdownify | remove: '<p>' | remove: '</p>' }}
  </div>
  
  <div class="publication-details">
    <em>{{ entry.venue }}</em>, {{ entry.year }}
    {% if entry.pages and entry.pages != "" %} | pp. {{ entry.pages }}{% endif %}
    {% if entry.doi and entry.doi != "" %} | 
      DOI: <a href="https://doi.org/{{ entry.doi }}" target="_blank">{{ entry.doi }}</a>
    {% endif %}
  </div>
  
  {% if entry.abstract and entry.abstract != "" %}
  <div class="publication-abstract">
    <strong>Abstract:</strong> 
    {{ entry.abstract | markdownify | remove: '<p>' | remove: '</p>' }}
  </div>
  {% endif %}
  
  {% if entry.tags and entry.tags.size > 0 %}
  <div class="publication-tags">
    {% for tag in entry.tags %}
      <span class="tag">{{ tag }}</span>
    {% endfor %}
  </div>
  {% endif %}
  
  {% if entry.bibtex and entry.bibtex != "" %}
  <div class="publication-bibtex">
    <details>
      <summary>BibTeX</summary>
      <pre><code>{{ entry.bibtex }}</code></pre>
    </details>
  </div>
  {% endif %}
</div>